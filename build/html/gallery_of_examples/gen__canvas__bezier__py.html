<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml" lang="ja">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Gallery of Examples » Bezier Example &mdash; kivy-intro-jp 1.0 ドキュメント</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="kivy-intro-jp 1.0 ドキュメント" href="../index.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          Kivy Japanese Translation</a>
        <span class="navbar-text navbar-version pull-left"><b>1.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site Contents <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/index.html">入門(Getting Started)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">チュートリアル(Tutorial)</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page Contents <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Gallery of Examples » Bezier Example</a></li>
<li><a class="reference internal" href="#canvas-bezier-py">canvas/bezier.pyファイル</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
              
            
            
            
            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/index.html">入門(Getting Started)</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">チュートリアル(Tutorial)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/pong_game_tutorial.html">ポンゲームチューtリアル</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/simple_paint_app.html">シンプルなペイントアプリケーション</a></li>
</ul>
</li>
</ul>

<form action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        </div>
      </div>
    <div class="col-md-9 content">
      
  <div class="section" id="gallery-of-examples-bezier-example">
<h1>Gallery of Examples » Bezier Example<a class="headerlink" href="#gallery-of-examples-bezier-example" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>このドキュメンテーションはGallery of Examples » Bezier Exampleを日本語訳したものです。
<a class="reference external" href="https://kivy.org/docs/examples/gen__canvas__bezier__py.html">https://kivy.org/docs/examples/gen__canvas__bezier__py.html</a></p>
<img alt="https://kivy.org/docs/_images/canvas__bezier__py1.png" src="https://kivy.org/docs/_images/canvas__bezier__py1.png" />
<p>この例では、多角形から計算した閉じたベジェ曲線を表示しています。
あなたは紫色のポリゴン(多角形)とポリゴンから計算された赤色のベジェ曲線、および2つのスライダが表示されます。
曲線を再計算するポリゴン上の点をドラッグできます。
2つのスライダーは、2つの形状を構成する破線のダッシュの長さを制御します。</p>
</div>
<div class="section" id="canvas-bezier-py">
<h1>canvas/bezier.pyファイル<a class="headerlink" href="#canvas-bezier-py" title="このヘッドラインへのパーマリンク">¶</a></h1>
<div class="highlight-python"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<p>&#8216;&#8217;&#8217;
Bezier Example
==============</p>
<p>This example shows a closed Bezier curve computed from a polygon. You
should see a purple polygon, a red bezier curve computed from the polygon,
and two sliders. You can drag points on the polygon to recompute the curve.
The two sliders control the dash length of the dashed lines making up the two
shapes.</p>
<p>&#8216;&#8217;&#8217;
from kivy.app import App
from kivy.uix.floatlayout import FloatLayout
from kivy.uix.slider import Slider
from kivy.graphics import Color, Bezier, Line</p>
<p>class BezierTest(FloatLayout):</p>
<blockquote>
<div><dl class="docutils">
<dt>def __init__(self, points=[], loop=False, <a href="#id1"><span class="problematic" id="id2">*</span></a>args, <a href="#id3"><span class="problematic" id="id4">**</span></a>kwargs):</dt>
<dd><p class="first">super(BezierTest, self).__init__(<a href="#id5"><span class="problematic" id="id6">*</span></a>args, <a href="#id7"><span class="problematic" id="id8">**</span></a>kwargs)
self.d = 10  # pixel tolerance when clicking on a point
self.points = points
self.loop = loop
self.current_point = None  # index of point being dragged</p>
<dl class="docutils">
<dt>with self.canvas:</dt>
<dd><p class="first">Color(1.0, 0.0, 0.0)</p>
<dl class="docutils">
<dt>self.bezier = Bezier(</dt>
<dd>points=self.points,
segments=150,
loop=self.loop,
dash_length=100,
dash_offset=10)</dd>
</dl>
<p>Color(1.0, 0.0, 1.0)
self.line = Line(</p>
<blockquote class="last">
<div>points=self.points + self.points[:2],
dash_offset=10,
dash_length=100)</div></blockquote>
</dd>
</dl>
<p>s = Slider(y=0, pos_hint={&#8216;x&#8217;: .3}, size_hint=(.7, None), height=50)
s.bind(value=self._set_bezier_dash_offset)
self.add_widget(s)</p>
<p class="last">s = Slider(y=50, pos_hint={&#8216;x&#8217;: .3}, size_hint=(.7, None), height=50)
s.bind(value=self._set_line_dash_offset)
self.add_widget(s)</p>
</dd>
<dt>def _set_bezier_dash_offset(self, instance, value):</dt>
<dd># effect to reduce length while increase offset
self.bezier.dash_length = 100 - value
self.bezier.dash_offset = value</dd>
<dt>def _set_line_dash_offset(self, instance, value):</dt>
<dd># effect to reduce length while increase offset
self.line.dash_length = 100 - value
self.line.dash_offset = value</dd>
<dt>def on_touch_down(self, touch):</dt>
<dd><dl class="first last docutils">
<dt>if self.collide_point(touch.pos[0], touch.pos[1]):</dt>
<dd><dl class="first docutils">
<dt>for i, p in enumerate(list(zip(self.points[::2],</dt>
<dd><blockquote class="first">
<div>self.points[1::2]))):</div></blockquote>
<dl class="last docutils">
<dt>if (abs(touch.pos[0] - self.pos[0] - p[0]) &lt; self.d and</dt>
<dd>abs(touch.pos[1] - self.pos[1] - p[1]) &lt; self.d):
self.current_point = i + 1
return True</dd>
</dl>
</dd>
</dl>
<p class="last">return super(BezierTest, self).on_touch_down(touch)</p>
</dd>
</dl>
</dd>
<dt>def on_touch_up(self, touch):</dt>
<dd><dl class="first last docutils">
<dt>if self.collide_point(touch.pos[0], touch.pos[1]):</dt>
<dd><dl class="first docutils">
<dt>if self.current_point:</dt>
<dd>self.current_point = None
return True</dd>
</dl>
<p class="last">return super(BezierTest, self).on_touch_up(touch)</p>
</dd>
</dl>
</dd>
<dt>def on_touch_move(self, touch):</dt>
<dd><dl class="first last docutils">
<dt>if self.collide_point(touch.pos[0], touch.pos[1]):</dt>
<dd><p class="first">c = self.current_point
if c:</p>
<blockquote>
<div>self.points[(c - 1) * 2] = touch.pos[0] - self.pos[0]
self.points[(c - 1) * 2 + 1] = touch.pos[1] - self.pos[1]
self.bezier.points = self.points
self.line.points = self.points + self.points[:2]
return True</div></blockquote>
<p class="last">return super(BezierTest, self).on_touch_move(touch)</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<p>class Main(App):</p>
<blockquote>
<div><dl class="docutils">
<dt>def build(self):</dt>
<dd><p class="first">from math import cos, sin, radians
x = y = 150
l = 100
# Pacman !
points = [x, y]
for i in range(45, 360, 45):</p>
<blockquote>
<div>i = radians(i)
points.extend([x + cos(i) * l, y + sin(i) * l])</div></blockquote>
<p class="last">return BezierTest(points=points, loop=True)</p>
</dd>
</dl>
</div></blockquote>
<dl class="docutils">
<dt>if __name__ == &#8216;__main__&#8217;:</dt>
<dd>Main().run()</dd>
</dl>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2016, Daisuke Saito.<br/>
      このドキュメントは <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.4 で生成しました。<br/>
    </p>
  </div>
</footer>
  </body>
</html>