<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml" lang="ja">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Gallery of Examples » FBO Canvas &mdash; kivy-intro-jp 1.0 ドキュメント</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="kivy-intro-jp 1.0 ドキュメント" href="../index.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          Kivy Japanese Translation</a>
        <span class="navbar-text navbar-version pull-left"><b>1.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site Contents <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/index.html">入門(Getting Started)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">チュートリアル(Tutorial)</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page Contents <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Gallery of Examples » FBO Canvas</a></li>
<li><a class="reference internal" href="#canvas-fbo-canvas-py">canvas/fbo_canvas.pyファイル</a><ul>
<li><a class="reference internal" href="#id1">&#8216;&#8217;&#8216;</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
              
            
            
            
            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/index.html">入門(Getting Started)</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">チュートリアル(Tutorial)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/pong_game_tutorial.html">ポンゲームチューtリアル</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/simple_paint_app.html">シンプルなペイントアプリケーション</a></li>
</ul>
</li>
</ul>

<form action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        </div>
      </div>
    <div class="col-md-9 content">
      
  <div class="section" id="gallery-of-examples-fbo-canvas">
<h1>Gallery of Examples » FBO Canvas<a class="headerlink" href="#gallery-of-examples-fbo-canvas" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>このドキュメンテーションはGallery of Examples » FBO Canvasを日本語訳したものです。
<a class="reference external" href="https://kivy.org/docs/examples/gen__canvas__fbo_canvas__py.html">https://kivy.org/docs/examples/gen__canvas__fbo_canvas__py.html</a></p>
<img alt="https://kivy.org/docs/_images/canvas__fbo_canvas__py1.png" src="https://kivy.org/docs/_images/canvas__fbo_canvas__py1.png" />
<p>FBO（バッファオフスクリーンフレーム）の代わりにプレーンなキャンバスを使用してレイアウトを表示しています。
黒色のキャンバスと左下隅に「FBO」と書かれたボタン表示されます。
クリックすると左から右にボタンが移動します。</p>
</div>
<div class="section" id="canvas-fbo-canvas-py">
<h1>canvas/fbo_canvas.pyファイル<a class="headerlink" href="#canvas-fbo-canvas-py" title="このヘッドラインへのパーマリンク">¶</a></h1>
<div class="highlight-python"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<div class="section" id="id1">
<h2>&#8216;&#8217;&#8216;<a class="headerlink" href="#id1" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>&#8216;&#8217;&#8217;
FBO Canvas
==========</p>
<p>This demonstrates a layout using an FBO (Frame Buffer Off-screen)
instead of a plain canvas. You should see a black canvas with a
button labelled &#8216;FBO&#8217; in the bottom left corner. Clicking it
animates the button moving right to left.
&#8216;&#8217;&#8216;</p>
<p>__all__ = (&#8216;FboFloatLayout&#8217;, )</p>
<p>from kivy.graphics import Color, Rectangle, Canvas, ClearBuffers, ClearColor
from kivy.graphics.fbo import Fbo
from kivy.uix.floatlayout import FloatLayout
from kivy.properties import ObjectProperty, NumericProperty
from kivy.app import App
from kivy.core.window import Window
from kivy.animation import Animation
from kivy.factory import Factory</p>
<p>class FboFloatLayout(FloatLayout):</p>
<blockquote>
<div><p>texture = ObjectProperty(None, allownone=True)</p>
<p>alpha = NumericProperty(1)</p>
<dl class="docutils">
<dt>def __init__(self, <a href="#id2"><span class="problematic" id="id3">**</span></a>kwargs):</dt>
<dd><p class="first">self.canvas = Canvas()
with self.canvas:</p>
<blockquote>
<div>self.fbo = Fbo(size=self.size)
self.fbo_color = Color(1, 1, 1, 1)
self.fbo_rect = Rectangle()</div></blockquote>
<dl class="docutils">
<dt>with self.fbo:</dt>
<dd>ClearColor(0, 0, 0, 0)
ClearBuffers()</dd>
</dl>
<p class="last"># wait that all the instructions are in the canvas to set texture
self.texture = self.fbo.texture
super(FboFloatLayout, self).__init__(<a href="#id4"><span class="problematic" id="id5">**</span></a>kwargs)</p>
</dd>
<dt>def add_widget(self, <a href="#id6"><span class="problematic" id="id7">*</span></a>largs):</dt>
<dd># trick to attach graphics instruction to fbo instead of canvas
canvas = self.canvas
self.canvas = self.fbo
ret = super(FboFloatLayout, self).add_widget(<a href="#id8"><span class="problematic" id="id9">*</span></a>largs)
self.canvas = canvas
return ret</dd>
<dt>def remove_widget(self, <a href="#id10"><span class="problematic" id="id11">*</span></a>largs):</dt>
<dd>canvas = self.canvas
self.canvas = self.fbo
super(FboFloatLayout, self).remove_widget(<a href="#id12"><span class="problematic" id="id13">*</span></a>largs)
self.canvas = canvas</dd>
<dt>def on_size(self, instance, value):</dt>
<dd>self.fbo.size = value
self.texture = self.fbo.texture
self.fbo_rect.size = value</dd>
<dt>def on_pos(self, instance, value):</dt>
<dd>self.fbo_rect.pos = value</dd>
<dt>def on_texture(self, instance, value):</dt>
<dd>self.fbo_rect.texture = value</dd>
<dt>def on_alpha(self, instance, value):</dt>
<dd>self.fbo_color.rgba = (1, 1, 1, value)</dd>
</dl>
</div></blockquote>
<dl class="docutils">
<dt>class ScreenLayerApp(App):</dt>
<dd><p class="first">def build(self):</p>
<blockquote class="last">
<div><p>f = FboFloatLayout()
b = Factory.Button(text=&#8221;FBO&#8221;, size_hint=(None, None))
f.add_widget(b)</p>
<dl class="docutils">
<dt>def anim_btn(<a href="#id14"><span class="problematic" id="id15">*</span></a>args):</dt>
<dd><dl class="first last docutils">
<dt>if b.pos[0] == 0:</dt>
<dd>Animation(x=f.width - b.width).start(b)</dd>
<dt>else:</dt>
<dd>Animation(x=0).start(b)</dd>
</dl>
</dd>
</dl>
<p>b.bind(on_press=anim_btn)</p>
<p>return f</p>
</div></blockquote>
</dd>
<dt>if __name__ == &#8220;__main__&#8221;:</dt>
<dd>ScreenLayerApp().run()</dd>
</dl>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2016, Daisuke Saito.<br/>
      このドキュメントは <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.4 で生成しました。<br/>
    </p>
  </div>
</footer>
  </body>
</html>